[% PROCESS plugins/MellowDSP/settings/common.html %]

<input type="hidden" name="player" value="[% player | html %]">

<div class="prefDesc">
  <input name="enabled" id="enabled" type="checkbox" [% IF enabled %] checked [% END %]>
  <label for="enabled">Enable Mellow-DSP</label>
</div>

<div class="prefDesc">
  <label for="upsample_rate">Upsampling Rate:</label>
  <select name="upsample_rate" id="upsample_rate">
    <option value="44100" [% IF upsample_rate == '44100' %]selected[% END %]>44.1 kHz</option>
    <option value="88200" [% IF upsample_rate == '88200' %]selected[% END %]>88.2 kHz</option>
    <option value="176400" [% IF upsample_rate == '176400' %]selected[% END %]>176.4 kHz</option>
    <option value="352800" [% IF upsample_rate == '352800' %]selected[% END %]>352.8 kHz</option>
    <option value="705600" [% IF upsample_rate == '705600' %]selected[% END %]>705.6 kHz</option>
    <option value="768000" [% IF upsample_rate == '768000' %]selected[% END %]>768 kHz</option>
  </select>
</div>

<div class="prefDesc">
  <label for="phase_response">Phase Response:</label>
  <select name="phase_response" id="phase_response">
    <option value="linear" [% IF phase_response == 'linear' %]selected[% END %]>Linear</option>
    <option value="intermediate" [% IF phase_response == 'intermediate' %]selected[% END %]>Intermediate</option>
    <option value="minimum" [% IF phase_response == 'minimum' %]selected[% END %]>Minimum</option>
  </select>
</div>

<div class="prefDesc">
  <label for="output_depth">Output Depth:</label>
  <select name="output_depth" id="output_depth">
    <option value="16" [% IF output_depth == '16' %]selected[% END %]>16-bit</option>
    <option value="24" [% IF output_depth == '24' %]selected[% END %]>24-bit</option>
    <option value="32" [% IF output_depth == '32' %]selected[% END %]>32-bit</option>
  </select>
</div>

<div class="prefDesc">
  <label for="dithering">Dithering:</label>
  <select name="dithering" id="dithering">
    <option value="none" [% IF dithering == 'none' %]selected[% END %]>None</option>
    <option value="triangular" [% IF dithering == 'triangular' %]selected[% END %]>Triangular PDF</option>
    <option value="shaped" [% IF dithering == 'shaped' %]selected[% END %]>Noise Shaped</option>
    <option value="lipshitz" [% IF dithering == 'lipshitz' %]selected[% END %]>Lipshitz</option>
    <option value="fweighted" [% IF dithering == 'fweighted' %]selected[% END %]>F-weighted</option>
    <option value="eweighted" [% IF dithering == 'eweighted' %]selected[% END %]>E-weighted</option>
  </select>
</div>

<div class="prefDesc">
  <label for="target_precision">Target Precision:</label>
  <select name="target_precision" id="target_precision">
    <option value="16" [% IF target_precision == '16' %]selected[% END %]>16-bit</option>
    <option value="18" [% IF target_precision == '18' %]selected[% END %]>18-bit</option>
    <option value="20" [% IF target_precision == '20' %]selected[% END %]>20-bit</option>
    <option value="22" [% IF target_precision == '22' %]selected[% END %]>22-bit</option>
    <option value="24" [% IF target_precision == '24' %]selected[% END %]>24-bit</option>
  </select>
</div>

<div class="prefDesc">
  <input name="fir_enabled" id="fir_enabled" type="checkbox" [% IF fir_enabled %] checked [% END %]>
  <label for="fir_enabled">Enable FIR convolution</label>
</div>

<div class="prefDesc">
  <label for="fir_file_left">FIR File Left:</label>
  <input type="file" name="fir_file_left" id="fir_file_left">
</div>

<div class="prefDesc">
  <label for="fir_file_right">FIR File Right:</label>
  <input type="file" name="fir_file_right" id="fir_file_right">
</div>

<div class="prefDesc">
  <label for="fir_gain_db">FIR Gain (dB):</label>
  <input type="text" name="fir_gain_db" id="fir_gain_db" value="[% fir_gain_db | html %]" size="6">
</div>

<div class="prefDesc">
  <label for="fir_channel_left">FIR Channel Left:</label>
  <input type="text" name="fir_channel_left" id="fir_channel_left" value="[% fir_channel_left | html %]" size="2">
</div>

<div class="prefDesc">
  <label for="fir_channel_right">FIR Channel Right:</label>
  <input type="text" name="fir_channel_right" id="fir_channel_right" value="[% fir_channel_right | html %]" size="2">
</div>

<div class="prefDesc">
  <label for="output_mode">Output Mode:</label>
  <select name="output_mode" id="output_mode">
    <option value="server_dac" [% IF output_mode == 'server_dac' %]selected[% END %]>Server DAC (WAV)</option>
    <option value="server_client_wav" [% IF output_mode == 'server_client_wav' %]selected[% END %]>Server → Client DAC (WAV)</option>
    <option value="server_client_flac" [% IF output_mode == 'server_client_flac' %]selected[% END %]>Server → Client DAC (FLAC)</option>
  </select>
</div>

<input type="submit" name="saveSettings" value="[% "SAVE" | string %]" class="stdclick">
<input type="submit" name="cancel" value="[% "CANCEL" | string %]" class="stdclick">
